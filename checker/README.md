# @typeonly/checker

<!-- [![Build Status](https://travis-ci.com/paroi-tech/typeonly-checker.svg?branch=master)](https://travis-ci.com/paroi-tech/typeonly-checker)
[![Dependencies Status](https://david-dm.org/paroi-tech/typeonly-checker/status.svg)](https://david-dm.org/paroi-tech/typeonly-checker)
[![Codacy Badge](https://api.codacy.com/project/badge/Grade/3728d0b89a8f456391e980c46967003f)](https://www.codacy.com/manual/paleo/typeonly-checker?utm_source=github.com&utm_medium=referral&utm_content=paroi-tech/typeonly-checker&utm_campaign=Badge_Grade) -->
[![Build Status](https://travis-ci.com/paroi-tech/typeonly.svg?branch=master)](https://travis-ci.com/paroi-tech/typeonly)
[![npm](https://img.shields.io/npm/dm/@typeonly/checker)](https://www.npmjs.com/package/@typeonly/checker)
![Type definitions](https://img.shields.io/npm/types/@typeonly/checker)
![GitHub](https://img.shields.io/github/license/paroi-tech/typeonly)

[TypeOnly](https://github.com/paroi-tech/typeonly/tree/master/typeonly) aims to be the pure typing part of TypeScript. This package provides an API to validate JSON and JavaScript objects with TypeScript definitions, using the TypeOnly parser.

## Tutorial: How to programmatically validate JSON data

At first, it is necessary to follow [the tutorial](https://github.com/paroi-tech/typeonly/blob/master/typeonly/README.md#tutorial-parse-typescript-definitions-with-the-cli) of TypeOnly in order to generate a `.to.json` file based on your TypeScript definitions. After this step, you have the following file: `dist/types.to.json`.

Now, add `@typeonly/checker` to the project:

```sh
npm install @typeonly/checker
```

Create a file `src/check-main.js` with the following content:

```ts
// src/check-main.js
const { createChecker } = require("@typeonly/checker");

const data = {
  color: "green",
  shape: {
    kind: "circle",
    x: 100,
    y: 100,
    radius: 50
  }
};

const checker = createChecker({
  bundle: require("./types.to.json")
});
const result = checker.check("./drawing", "Drawing", data);
console.log(result);
```

This code validates the `data` object using RTO files generated by the TypeOnly parser.

Execute it:

```sh
$ node src/check-main.js
{ valid: true }
```

## Contribute

With VS Code, our recommanded plugin is:

- **TSLint** from Microsoft (`ms-vscode.vscode-typescript-tslint-plugin`)
